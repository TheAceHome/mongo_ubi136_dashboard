<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û—Ç—á–µ—Ç –ø–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 3px solid #2196F3;
        }
        
        .header h1 {
            color: #1976D2;
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 16px;
            color: #666;
            margin: 8px 0;
        }
        
        .student-info {
            background: #E3F2FD;
            padding: 15px;
            border-left: 4px solid #2196F3;
            margin-bottom: 30px;
            border-radius: 4px;
        }
        
        .student-info p {
            margin: 5px 0;
            font-size: 14px;
        }
        
        h2 {
            color: #1976D2;
            font-size: 22px;
            margin-top: 30px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #E3F2FD;
        }
        
        h3 {
            color: #424242;
            font-size: 18px;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        
        p {
            margin-bottom: 12px;
            text-align: justify;
        }
        
        .table-container {
            overflow-x: auto;
            margin: 20px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        table th {
            background: #1976D2;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }
        
        table td {
            padding: 10px 12px;
            border-bottom: 1px solid #ddd;
        }
        
        table tr:nth-child(even) {
            background: #f9f9f9;
        }
        
        table tr:hover {
            background: #f0f0f0;
        }
        
        .code-block {
            background: #f5f5f5;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
            font-family: 'Courier New', 'Consolas', monospace;
            font-size: 13px;
            overflow-x: auto;
            white-space: pre;
            line-height: 1.5;
        }
        
        .diagram {
            background: white;
            border: 2px solid #2196F3;
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
            font-family: 'Courier New', 'Consolas', monospace;
            overflow-x: auto;
            font-size: 11px;
            white-space: pre;
            line-height: 1.4;
            color: #333;
        }
        
        .highlight {
            background: #FFF3E0;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: 500;
        }
        
        .info-box {
            background: #E8F5E9;
            border-left: 4px solid #4CAF50;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .warning-box {
            background: #FFF3E0;
            border-left: 4px solid #FF9800;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .container-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            background: #fafafa;
        }
        
        .container-card h4 {
            color: #1976D2;
            margin-bottom: 10px;
        }
        
        .port-list {
            list-style: none;
        }
        
        .port-list li {
            padding: 8px 0;
            padding-left: 20px;
            position: relative;
        }
        
        .port-list li:before {
            content: "‚Üí";
            position: absolute;
            left: 0;
            color: #2196F3;
            font-weight: bold;
        }
        
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
            text-align: center;
            color: #666;
            font-size: 12px;
        }
        
        .print-button {
            text-align: center;
            margin: 20px 0;
        }
        
        .print-button button {
            background: #2196F3;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .print-button button:hover {
            background: #1976D2;
        }
        
        @media print {
            body {
                background: white;
            }
            .container {
                box-shadow: none;
                max-width: 100%;
            }
            .print-button {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="print-button">
            <button onclick="window.print()">üìÑ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ PDF</button>
        </div>
        
        <div class="header">
            <h1>üì¶ –û—Ç—á–µ—Ç –ø–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã</h1>
            <p><strong>UBI.136 Protection System</strong></p>
            <p>–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ –¥–∞–Ω–Ω—ã—Ö</p>
        </div>
        
        <div class="student-info">
            <p><strong>–°—Ç—É–¥–µ–Ω—Ç:</strong> –ü—Ä–æ–∫–∞–∑–Ω–æ–≤ –ù–∏–∫–∏—Ç–∞ –ú–∏—Ö–∞–π–ª–æ–≤–∏—á</p>
            <p><strong>–ì—Ä—É–ø–ø–∞:</strong> DevOps24-1–º</p>
            <p><strong>–î–∞—Ç–∞:</strong> –Ø–Ω–≤–∞—Ä—å 2024</p>
            <p><strong>–ü—Ä–µ–¥–º–µ—Ç:</strong> –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</p>
        </div>
        
        <h2>1. –í–≤–µ–¥–µ–Ω–∏–µ</h2>
        <p>
            –°–∏—Å—Ç–µ–º–∞ UBI.136 Protection System –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—É—é 
            —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Docker –∏ Docker Compose. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã —É–ø–∞–∫–æ–≤–∞–Ω—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è 
            –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏ –∏ –ø—Ä–æ—Å—Ç–æ—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è.
        </p>
        
        <h2>2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏</h2>
        
        <h3>2.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤</h3>
        <div class="diagram">
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    HOST MACHINE (localhost)         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ DATABASE CONTAINERS (3) ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ mongo-primary:27017          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ mongo-secondary1:27018       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ mongo-secondary2:27019       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ INITIALIZATION CONTAINER ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ mongo-init (one-time)        ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ MICROSERVICES (5) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ consensus-service:8001       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ replication-monitoring:8002  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ health-check:8003            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ transaction-log:8004         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ recovery-service:8005        ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ DOCKER NETWORK ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ mongo-network (bridge mode)  ‚îÇ ‚îÇ
‚îÇ  ‚îÇ Internal container DNS       ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ VOLUMES ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ mongo-primary-data           ‚îÇ ‚îÇ
‚îÇ  ‚îÇ mongo-secondary1-data        ‚îÇ ‚îÇ
‚îÇ  ‚îÇ mongo-secondary2-data        ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        </div>
        
        <h2>3. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</h2>
        
        <h3>3.1 MongoDB Primary —É–∑–µ–ª</h3>
        <div class="container-card">
            <h4>mongo-primary</h4>
            <p><strong>–û–±—Ä–∞–∑:</strong> mongo:5.0</p>
            <p><strong>–•–æ—Å—Ç-–ø–æ—Ä—Ç ‚Üí –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä-–ø–æ—Ä—Ç:</strong> 27017 ‚Üí 27017</p>
            <p><strong>–°–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:</strong> mongo-network (bridge)</p>
            <p><strong>Volume:</strong> mongo-primary-data:/data/db</p>
            <p><strong>–§—É–Ω–∫—Ü–∏—è:</strong> Primary —É–∑–µ–ª Replica Set, –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏</p>
        </div>
        
        <h3>3.2 MongoDB Secondary —É–∑–µ–ª 1</h3>
        <div class="container-card">
            <h4>mongo-secondary1</h4>
            <p><strong>–û–±—Ä–∞–∑:</strong> mongo:5.0</p>
            <p><strong>–•–æ—Å—Ç-–ø–æ—Ä—Ç ‚Üí –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä-–ø–æ—Ä—Ç:</strong> 27018 ‚Üí 27017</p>
            <p><strong>Volume:</strong> mongo-secondary1-data:/data/db</p>
            <p><strong>–§—É–Ω–∫—Ü–∏—è:</strong> Secondary —É–∑–µ–ª –¥–ª—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö</p>
        </div>
        
        <h3>3.3 MongoDB Secondary —É–∑–µ–ª 2</h3>
        <div class="container-card">
            <h4>mongo-secondary2</h4>
            <p><strong>–û–±—Ä–∞–∑:</strong> mongo:5.0</p>
            <p><strong>–•–æ—Å—Ç-–ø–æ—Ä—Ç ‚Üí –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä-–ø–æ—Ä—Ç:</strong> 27019 ‚Üí 27017</p>
            <p><strong>Volume:</strong> mongo-secondary2-data:/data/db</p>
            <p><strong>–§—É–Ω–∫—Ü–∏—è:</strong> Secondary —É–∑–µ–ª –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –≤—ã—Å–æ–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏</p>
        </div>
        
        <h3>3.4 –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Replica Set</h3>
        <div class="container-card">
            <h4>mongo-init</h4>
            <p><strong>–û–±—Ä–∞–∑:</strong> mongo:5.0</p>
            <p><strong>–°—Ç–∞—Ç—É—Å –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞:</strong> no (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑)</p>
            <p><strong>–î–µ–π—Å—Ç–≤–∏—è:</strong></p>
            <ul style="margin-left: 20px;">
                <li>–û–∂–∏–¥–∞–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Å–µ—Ö —É–∑–ª–æ–≤</li>
                <li>–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ rs.initiate() –Ω–∞ Primary</li>
                <li>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö 3 —É–∑–ª–æ–≤ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ</li>
                <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤: Primary=2, Secondary=1, Secondary=1</li>
            </ul>
        </div>
        
        <h2>4. –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</h2>
        
        <h3>4.1 Dockerfile –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤</h3>
        <div class="code-block">
FROM python:3.11-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt
COPY main.py .
CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "PORT"]
        </div>
        
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>–°–µ—Ä–≤–∏—Å</th>
                        <th>–ü–æ—Ä—Ç</th>
                        <th>–§—É–Ω–∫—Ü–∏—è</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>consensus-service</td>
                        <td>8001</td>
                        <td>–ì–ª–∞–≤–Ω—ã–π —Å–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å—é</td>
                    </tr>
                    <tr>
                        <td>replication-monitoring</td>
                        <td>8002</td>
                        <td>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ –∏ oplog lag</td>
                    </tr>
                    <tr>
                        <td>health-check</td>
                        <td>8003</td>
                        <td>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —É–∑–ª–æ–≤</td>
                    </tr>
                    <tr>
                        <td>transaction-log</td>
                        <td>8004</td>
                        <td>–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –∏ –∞—É–¥–∏—Ç</td>
                    </tr>
                    <tr>
                        <td>recovery-service</td>
                        <td>8005</td>
                        <td>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —É–∑–ª–æ–≤</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <h2>5. –ü–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ—Ä—Ç–æ–≤</h2>
        
        <h3>5.1 –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤</h3>
        <p>–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤:</p>
        
        <h4>MongoDB –ø–æ—Ä—Ç—ã:</h4>
        <ul class="port-list">
            <li><strong>localhost:27017</strong> ‚Üí mongo-primary:27017 (Primary —É–∑–µ–ª)</li>
            <li><strong>localhost:27018</strong> ‚Üí mongo-secondary1:27017 (Secondary —É–∑–µ–ª 1)</li>
            <li><strong>localhost:27019</strong> ‚Üí mongo-secondary2:27017 (Secondary —É–∑–µ–ª 2)</li>
        </ul>
        
        <h4>–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –ø–æ—Ä—Ç—ã:</h4>
        <ul class="port-list">
            <li><strong>localhost:8001</strong> ‚Üí consensus-service:8001</li>
            <li><strong>localhost:8002</strong> ‚Üí replication-monitoring:8002</li>
            <li><strong>localhost:8003</strong> ‚Üí health-check:8003</li>
            <li><strong>localhost:8004</strong> ‚Üí transaction-log:8004</li>
            <li><strong>localhost:8005</strong> ‚Üí recovery-service:8005</li>
        </ul>
        
        <div class="info-box">
            <strong>‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</strong> –í—Å–µ –ø–æ—Ä—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç TCP –ø—Ä–æ—Ç–æ–∫–æ–ª –∏ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ localhost.
            –ü—Ä–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ö–æ—Å—Ç-–∞–¥—Ä–µ—Å–∞.
        </div>
        
        <h2>6. –°–µ—Ç–µ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</h2>
        
        <h3>6.1 Docker Network</h3>
        <p>
            –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ –æ–¥–Ω–æ–π —Å–µ—Ç–∏ <span class="highlight">mongo-network</span>:
        </p>
        <div class="code-block">
networks:
  mongo-network:
    driver: bridge
        </div>
        
        <h3>6.2 –°–µ—Ç–µ–≤–æ–π –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ</h3>
        <div class="code-block">
–ò–∑ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –∫ MongoDB:
mongodb://mongo-primary:27017,
         mongo-secondary1:27017,
         mongo-secondary2:27017/?replicaSet=rs0

–ò–∑ —Ö–æ—Å—Ç–∞ –∫ —Å–µ—Ä–≤–∏—Å–∞–º:
http://localhost:8001/endpoint
        </div>
        
        <h2>7. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ (Volumes)</h2>
        
        <h3>7.1 –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ Volumes</h3>
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Volume</th>
                        <th>–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä</th>
                        <th>–ü—É—Ç—å</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>mongo-primary-data</td>
                        <td>mongo-primary</td>
                        <td>/data/db</td>
                    </tr>
                    <tr>
                        <td>mongo-secondary1-data</td>
                        <td>mongo-secondary1</td>
                        <td>/data/db</td>
                    </tr>
                    <tr>
                        <td>mongo-secondary2-data</td>
                        <td>mongo-secondary2</td>
                        <td>/data/db</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <h3>7.2 –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ volumes</h3>
        <ul style="margin-left: 20px;">
            <li><strong>–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å:</strong> –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ</li>
            <li><strong>–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å:</strong> –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–µ —É–¥–∞–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ</li>
            <li><strong>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:</strong> –û–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è –ë–î</li>
            <li><strong>–£–ø—Ä–∞–≤–ª—è–µ–º–æ—Å—Ç—å:</strong> Docker —É–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º</li>
        </ul>
        
        <h2>8. Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</h2>
        
        <h3>8.1 –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤</h3>
        <div class="code-block">
mongo-secondary1 ‚Üí depends_on: mongo-primary
mongo-secondary2 ‚Üí depends_on: mongo-primary
mongo-init      ‚Üí depends_on: –≤—Å–µ MongoDB —É–∑–ª—ã
–í—Å–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã ‚Üí depends_on: mongo-init
        </div>
        
        <h3>8.2 –ü–æ—Ä—è–¥–æ–∫ –∑–∞–ø—É—Å–∫–∞</h3>
        <div class="info-box">
            <ol style="margin-left: 20px;">
                <li>mongo-primary –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º</li>
                <li>mongo-secondary1 –∏ mongo-secondary2 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ</li>
                <li>mongo-init –∂–¥–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ MongoDB —É–∑–ª–æ–≤</li>
                <li>–í—Å–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø–æ—Å–ª–µ Replica Set</li>
            </ol>
        </div>
        
        <h2>9. Healthcheck –º–µ—Ö–∞–Ω–∏–∑–º—ã</h2>
        
        <h3>9.1 MongoDB Healthcheck</h3>
        <div class="code-block">
healthcheck:
  test: echo 'db.runCommand("ping").ok' | mongo --quiet
  interval: 10s      # –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
  timeout: 5s        # –∂–¥–∞—Ç—å 5 —Å–µ–∫—É–Ω–¥ –æ—Ç–≤–µ—Ç
  retries: 5         # 5 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ = unhealthy
        </div>
        
        <h2>10. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è</h2>
        
        <h3>10.1 MONGO_URI</h3>
        <p>–í—Å–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –ø–æ–ª—É—á–∞—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MongoDB:</p>
        <div class="code-block">
environment:
  - MONGO_URI=mongodb://mongo-primary:27017,
              mongo-secondary1:27017,
              mongo-secondary2:27017/
              ?replicaSet=rs0
        </div>
        
        <h2>11. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h2>
        
        <h3>11.1 –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã</h3>
        <div class="code-block">
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ —Ñ–æ–Ω–µ
docker-compose up -d

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose logs mongo-primary
        </div>
        
        <h3>11.2 –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –æ—á–∏—Å—Ç–∫–∞</h3>
        <div class="code-block">
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose stop

# –£–¥–∞–ª–µ–Ω–∏–µ (–¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è)
docker-compose down

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (—É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)
docker-compose down -v

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
docker-compose restart consensus-service
        </div>
        
        <h2>12. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤</h2>
        
        <h3>12.1 –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ—Å—É—Ä—Å–æ–≤</h3>
        <div class="code-block">
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats

# –ü—Ä–æ—Ü–µ—Å—Å—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker top mongo-primary

# –ò–Ω—Å–ø–µ–∫—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker inspect mongo-primary
        </div>
        
        <h3>12.2 –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
        <div class="code-block">
# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤
docker logs --tail 100 consensus-service

# –°–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker logs -f replication-monitoring
        </div>
        
        <h2>13. –í—ã–≤–æ–¥—ã</h2>
        
        <div class="info-box">
            <ul style="margin-left: 20px;">
                <li>‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω–∞ (8 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤)</li>
                <li>‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö</li>
                <li>‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ–¥–∏–Ω–∞—è Docker —Å–µ—Ç—å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è</li>
                <li>‚úÖ –î–∞–Ω–Ω—ã–µ –ø–µ—Ä—Å–∏—Å—Ç–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ volumes</li>
                <li>‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–æ–º –∑–∞–ø—É—Å–∫–∞</li>
                <li>‚úÖ –ü—Ä–æ—Å—Ç–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ: docker-compose up -d</li>
                <li>‚úÖ –ü–æ–ª–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏</li>
                <li>‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É —Å best practices</li>
            </ul>
        </div>
        
        <div class="footer">
            <p>–û—Ç—á–µ—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω: –ü—Ä–æ–∫–∞–∑–Ω–æ–≤ –ù–∏–∫–∏—Ç–∞ –ú–∏—Ö–∞–π–ª–æ–≤–∏—á | –ì—Ä—É–ø–ø–∞: DevOps24-1–º</p>
            <p>UBI.136 Protection System - –°–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—Ç—ã –æ—Ç –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ —É–∑–ª–æ–≤</p>
        </div>
    </div>
</body>
</html>
